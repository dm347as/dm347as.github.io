<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contacts — Diogo Santos</title>
    <link rel="stylesheet" href="globals.css" />
    <link rel="shortcut icon" href="assets/images/circle.svg?v=2" type="image/svg+xml" />
  </head>
  <body>
    <a id="top" class="sr-only" href="#top">Top</a>

    <!-- Header with corner buttons -->
    <header class="site-header" role="banner" aria-label="Top navigation">
      <a
        class="corner-btn top-left"
        href="index.html"
        aria-label="Back to portfolio"
        >←</a
      >
      <a class="corner-btn top-right" href="about.html">About</a>
    </header>

    <!-- Example main content (placeholder) -->
    <main class="site-main top-aligned">
      <!-- Projects list (15) - will be visually positioned behind header/footer -->
      <section id="projects" class="projects">
        <!-- preview element removed (hover preview functionality disabled) -->
        <!-- projects heading intentionally removed per request -->
        <ul class="projects-grid">
          <li>
            <a
              href="https://www.instagram.com/og0id_/"
              target="_blank"
              rel="noopener noreferrer"
              >Instagram</a
            >
          </li>
          <li>
            <a
              href="https://www.linkedin.com/in/diogo-santos-1a0485360/"
              target="_blank"
              rel="noopener noreferrer"
              >LinkedIn</a
            >
          </li>
          <li>
            <a href="mailto:dm347as@gmail.com">Email</a>
          </li>
        </ul>
      </section>
    </main>

    <!-- Image preview element positioned bottom-left -->
    <div class="project-image-preview" aria-hidden="true">
      <img src="" alt="" />
    </div>

    <!-- Footer with corner buttons -->
    <footer
      class="site-footer"
      role="contentinfo"
      aria-label="Footer navigation"
    >
      <a class="corner-btn bottom-left" href="contacts.html">contact me</a>
      <a class="corner-btn bottom-right" href="#top">up</a>
    </footer>

    <script>
      // Swap header corner text and show image preview on project hover
      (function () {
        const leftBtn = document.querySelector(".corner-btn.top-left");
        const rightBtn = document.querySelector(".corner-btn.top-right");
        const bottomLeftBtn = document.querySelector(".corner-btn.bottom-left");
        const imagePreview = document.querySelector(".project-image-preview");
        const projectItems = document.querySelectorAll(".projects-grid li");

        const defaultLeft = leftBtn.textContent;
        const defaultRight = rightBtn.textContent;
        const defaultBottomLeft = bottomLeftBtn.textContent;

        projectItems.forEach((li) => {
          const client = li.dataset.client;
          const year = li.dataset.year;
          const type = li.dataset.type;
          const image = li.dataset.image;

          if (!client || !year) return;

          li.addEventListener("pointerenter", () => {
            leftBtn.innerHTML = client;
            rightBtn.textContent = year;
            if (type) bottomLeftBtn.textContent = type;

            // Show image preview
            if (image) {
              const img = imagePreview.querySelector("img");
              if (img) {
                img.src = image;
                // Remove shadow for PNG images
                if (image.toLowerCase().endsWith(".png")) {
                  img.classList.add("no-shadow");
                } else {
                  img.classList.remove("no-shadow");
                }
                imagePreview.classList.add("visible");
              }
            }
          });

          li.addEventListener("pointerleave", () => {
            leftBtn.textContent = defaultLeft;
            rightBtn.textContent = defaultRight;
            bottomLeftBtn.textContent = defaultBottomLeft;

            // Hide image preview
            imagePreview.classList.remove("visible");
            setTimeout(() => {
              if (!imagePreview.classList.contains("visible")) {
                const img = imagePreview.querySelector("img");
                if (img) img.src = "";
              }
            }, 300);
          });
          const a = li.querySelector("a");
          if (a) {
            a.addEventListener("focus", () => {
              leftBtn.innerHTML = client;
              rightBtn.textContent = year;
              if (type) bottomLeftBtn.textContent = type;

              if (image) {
                const img = imagePreview.querySelector("img");
                if (img) {
                  img.src = image;
                  // Remove shadow for PNG images
                  if (image.toLowerCase().endsWith(".png")) {
                    img.classList.add("no-shadow");
                  } else {
                    img.classList.remove("no-shadow");
                  }
                  imagePreview.classList.add("visible");
                }
              }
            });
            a.addEventListener("blur", () => {
              leftBtn.textContent = defaultLeft;
              rightBtn.textContent = defaultRight;
              bottomLeftBtn.textContent = defaultBottomLeft;

              imagePreview.classList.remove("visible");
              setTimeout(() => {
                if (!imagePreview.classList.contains("visible")) {
                  const img = imagePreview.querySelector("img");
                  if (img) img.src = "";
                }
              }, 300);
            });
          }
        });
      })();

      // Smooth scroll to top for "up" button
      (function () {
        const upBtn = document.querySelector(
          '.corner-btn.bottom-right[href="#top"]'
        );
        if (upBtn) {
          upBtn.addEventListener("click", (e) => {
            e.preventDefault();
            window.scrollTo({
              top: 0,
              behavior: "smooth",
            });
          });
        }
      })();

      // Custom cursor following mouse
      (function () {
        const cursor = document.createElement("div");
        cursor.style.cssText =
          "position: fixed; width: 12px; height: 12px; background: #111827; border-radius: 50%; pointer-events: none; z-index: 9999; transform: translate(-50%, -50%);";
        document.body.appendChild(cursor);

        document.addEventListener("mousemove", (e) => {
          cursor.style.left = e.clientX + "px";
          cursor.style.top = e.clientY + "px";
        });
      })();
    </script>
  </body>
</html>
